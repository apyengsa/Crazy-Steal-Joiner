<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Crazy Steal Joiner</title>

<style>
body { background:#0e0e0e; color:white; font-family:Arial; padding:20px; }
.card { background:#1c1c1c; padding:15px; border-radius:10px; margin-bottom:10px; }
.join { color:#4da3ff; font-weight:bold; }
</style>
</head>

<body>

<h1>ğŸ§  Crazy Steal Joiner (AUTO)</h1>
<p>ğŸ”¥ 10M ì´ìƒ + ë³€ì´ ìë™ ê³„ì‚°</p>
<div id="list"></div>

<script>
const PLACE_ID = 109983668079237;
const WEBHOOK = "https://discord.com/api/webhooks/1463410372798189737/OGUyM2EjvRIGGFc-mYf-0SMCBIlF5L0TSHoDOLws28RtyLPUQf05sDE8UE-oxzjIOwh1";

const MUTATION_MULTIPLIER = {
  Normal: 1,
  Gold: 1.25,
  Diamond: 1.5
};

let sent = new Set();

async function loadServers() {
  const res = await fetch("servers.json?" + Date.now());
  const servers = await res.json();

  document.getElementById("list").innerHTML = "";

  servers.forEach(s => {
    const multiplier = MUTATION_MULTIPLIER[s.mutation] || 1;
    const total = s.base * multiplier;

    if (total < 10000000) return;

    const link =
`https://chillihub1.github.io/chillihub-joiner/?placeId=${PLACE_ID}&gameInstanceId=${s.jobId}`;

    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <h2>${s.name}</h2>
      <p>ğŸ§¬ ${s.mutation} (${multiplier}x)</p>
      <p>ğŸ’° ${(total/1e6).toFixed(1)}M /s</p>
      <p>ğŸ‘¥ ${s.players}</p>
      <a class="join" href="${link}" target="_blank">Click to Join</a>
    `;

    document.getElementById("list").appendChild(div);

    if (!sent.has(s.jobId)) {
      sendDiscord(s, total, link);
      sent.add(s.jobId);
    }
  });
}

function sendDiscord(s, total, link) {
  fetch(WEBHOOK, {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({
      embeds:[{
        title:`ğŸ§  ${s.name}`,
        description:`ğŸ’° ${(total/1e6).toFixed(1)}M /s`,
        fields:[
          { name:"Mutation", value:s.mutation, inline:true },
          { name:"Players", value:s.players, inline:true },
          { name:"Join", value:`[Click to Join](${link})` }
        ]
      }]
    })
  });
}

/* ğŸ”¥ 0.5ì´ˆ ìë™ ê°±ì‹  */
setInterval(loadServers, 500);
</script>

</body>
</html>
